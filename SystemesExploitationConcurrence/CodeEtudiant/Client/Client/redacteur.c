#include "redacteur.h"
#include "driver.c"

//Run the redactor receiving the data from the reader
void Redacteur(int voie, int *pipe_readcteur[]){
	// declare the buffer and the times as static to keep the values
	static int times[2];
	static int buffer1[5];
	static int buffer2[5];
	int* buffer[2];
	buffer[0] = buffer1;
	buffer[1] = buffer2;

	// Read the data from the reader
	read(pipe_readcteur[voie][0], &buffer[voie][times[voie]], sizeof(int));
	times[voie]++;
	if(times[voie] == 5){
		// Print the data
		printf("\n");
		for(int i = 0; i < 5; i++){
			Print(stdout,"Data: %d, Voie: %d\n", &buffer[voie][i], voie);
		}
		times[voie] = 0;
	}
}