#include "redacteur.h"

int voieRedacteur, buffer;
int *tubeRedacteur;

void Writer(){
    int i = 0;
    while(i<5) {
        if (read(tubeRedacteur, &buffer, 1)>0) 
        {
            i++;
            printf("Voie (%d) Donn√©: %d\n", voieRedacteur,buffer);
        }
    }
}

void Redacteur_Start(void* tube_) {
    printf("Redacteur Start - waiting for pipe from moniteur\n");
    read(tube_, &voieRedacteur, 1);
    printf("Redacteur %d Start\n",voieRedacteur);
    tubeRedacteur = tube_;
    while(1){
        Writer();
        printf("Redacteur %d Cycle End\n",voieRedacteur);
        sleep(1000);
    }
}