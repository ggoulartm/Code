#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int Fork() {
    printf("Je suis un fils de pid %d et je suis été crée pour un père dont le pid est %d \n", getpid(),getppid());
    pid_t pid;
    pid = fork();
    if(pid==-1) {perror("fork"); return pid;}
    printf("Je suis un père de pid %d et j'ai crée un fils dont le pid est %d \n", getpid(),pid);
    return pid;
}

int main() {
    if(!Fork()) {
        printf("-----filho---\n");
        char *argv[2];
        argv[0]="/System/Applications/Calculator.app/Contents/MacOS/Calculator";
        argv[1]=NULL;
        printf("Calculette: %d",execvp("/System/Applications/Calculator.app/Contents/MacOS/Calculator",argv));
    }
    else {
        printf("-----pai-----\n");
        char *argv[2];
        argv[0]="/System/Applications/Notes.app/Contents/MacOS/Notes";
        argv[1]=NULL;
        printf("Notes: %d",execvp("/System/Applications/Notes.app/Contents/MacOS/Notes",argv));
    }
}